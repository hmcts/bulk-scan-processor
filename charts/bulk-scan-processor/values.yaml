java:
  applicationPort: 8581
  environment:
    POSTGRES_USER: bulkscanner
    POSTGRES_PASSWORD: bsppassword
    POSTGRES_DB: bulk_scan
    BULK_SCANNING_DB_USER_NAME: "{{ .Values.postgresql.postgresqlUsername}}"
    BULK_SCANNING_DB_PASSWORD: "{{ .Values.postgresql.postgresqlPassword}}"
    BULK_SCANNING_DB_NAME: "{{ .Values.postgresql.postgresqlDatabase}}"
    BULK_SCANNING_DB_HOST: "{{ .Release.Name }}-postgresql"
    BULK_SCANNING_DB_PORT: "5432"
    FLYWAY_URL: "jdbc:postgresql://{{ .Release.Name }}-postgresql:5432/bulk_scan"
    FLYWAY_USER: bulkscanner
    FLYWAY_PASSWORD: bsppassword
    FLYWAY_NOOP_STRATEGY: "false"
    LOGBACK_REQUIRE_ALERT_LEVEL: "false"
    LOGBACK_REQUIRE_ERROR_CODE: "false"
    S2S_NAME: "bulk_scan_processor"
    STORAGE_BLOB_SIGNATURE_ALGORITHM: "sha256withrsa"
    STORAGE_BLOB_PUBLIC_KEY: "nonprod_public_key.der"
    STORAGE_URL: "https://$(STORAGE_ACCOUNT_NAME).blob.core.windows.net"
    QUEUE_ENVELOPE_SEND: "$(SB_CONN_STRING);EntityPath=envelopes"
    QUEUE_NOTIFICATIONS_SEND: "$(SB_CONN_STRING);EntityPath=notifications"
    QUEUE_NOTIFICATIONS_READ: "$(SB_CONN_STRING);EntityPath=notifications"
    QUEUE_PROCESSED_ENVELOPES_READ: "$(SB_CONN_STRING);EntityPath=processed-envelopes"
  keyVaults:
    s2s:
      resourceGroup: rpe-service-auth-provider
      secrets:
        - microservicekey-bulk-scan-processor
  image: hmctspublic.azurecr.io/bulk-scan/processor:latest

postgresql:
  postgresqlUsername: bulkscanner
  postgresqlPassword: bsppassword
  postgresqlDatabase: bulk_scan
  service:
    port: 5432

servicebus:
  resourceGroup: bulk-scan-aks
  teamName: "Software Engineering"
  location: uksouth
  serviceplan: basic
  setup:
    queues:
      - name: envelopes
      - name: notifications
      - name: processed-envelopes

blobstorage:
  resourceGroup: bulk-scan-aks
  teamName: "Software Engineering"
  location: uksouth
  setup:
    containers:
      - bulkscan
      - bulkscan-rejected
      - sscs
